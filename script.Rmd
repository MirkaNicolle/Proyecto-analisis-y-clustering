---
title: "Proyecto analisis exploratorio y clustering"
author: "Andres Quinto, Mirka Monzon, Oscar De Leon, Oscar Ramos, Diego Crespo"
date: "26/03/2022"
output: 
  html_document:
    code_folding: hide
    word_document: default
    pdf_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(haven)
library(foreign)
#Lectura y conversion de los .SAV

# Comentados los savs que ya fueron convertidos en .csv
# write.csv(X2011, 'X2011.csv')
# write.csv(X2012, 'X2012.csv')
# write.csv(X2013, 'X2013.csv')
# write.csv(base1, 'base1.csv')
# write.csv(X2016, 'X2016.csv')
# write.csv(matri2014, 'matri2014 .csv')
# write.csv(matri2015 , 'matri2015 .csv')
# write.csv(matri2016 , 'matri2016 .csv')
# 

datos2011 <- read_sav("D:\\Universidad\\mineria de datos\\ProyectoMineria1\\Proyecto-analisis-y-clustering\\SAVS\\20111.sav")
datos2012 <- read_sav("D:\\Universidad\\mineria de datos\\ProyectoMineria1\\Proyecto-analisis-y-clustering\\SAVS\\20122.sav")
datos2019 <- read_sav("D:\\Universidad\\mineria de datos\\ProyectoMineria1\\Proyecto-analisis-y-clustering\\SAVS\\2019.sav")

#---------------------Modificaciones 2011----------------------
#Crear columnas en dataset 2011 NUNUHO, NUNUMU
NUNUHO <- rnorm(nrow(datos2011))
datos2011 <- cbind(datos2011,NUNUHO)
datos2011$NUNUHO <- "None"
NUNUMU <- rnorm(nrow(datos2011))
datos2011 <- cbind(datos2011, NUNUMU)
datos2011$NUNUMU <- "None"
#Poner todas en uppercase 2011
cnames <- colnames(datos2011)
mayu2011 = c()
for (i in 1:length(cnames)){
  mayu2011[i] <- toupper(cnames[i])  
}
colnames(datos2011)<-mayu2011
#cambiar AREAG por AREAGOCU, OCUHOM, OCUMUJ, PUEHOM, PUEMUJ
cnames <- colnames(datos2011)
nombresN = c()
for(i in 1:length(cnames)){
  if(cnames[i] == "AREAG"){
    nombresN[i] <- "AREAGOCU"
  }
  else if(cnames[i] == "OCUHOM"){
    nombresN[i] <- "CIUOHOM"
  }
  else if(cnames[i] == "OCUMUJ"){
    nombresN[i] <- "CIUOMUJ"
  }
  else if(cnames[i] == "GETHOM"){
    nombresN[i] <- "PUEHOM"
  }
  else if(cnames[i] == "GETMUJ"){
    nombresN[i] <- "PUEMUJ"
  }
  else{
    nombresN[i] <- cnames[i]
  }
}
colnames(datos2011) <- nombresN

#-------------------------Modificaciones 2012------------------------

#Crear columnas en dataset 2012 AÑOOCU, NUNUHO, NUNUMU
AÑOOCU <- rnorm(nrow(datos2012))
datos2012 <- cbind(datos2012, AÑOOCU)
datos2012$AÑOOCU <- "None"
NUNUHO <- rnorm(nrow(datos2012))
datos2012 <- cbind(datos2012,NUNUHO)
datos2012$NUNUHO <- "None"
NUNUMU <- rnorm(nrow(datos2012))
datos2012 <- cbind(datos2012, NUNUMU)
datos2012$NUNUMU <- "NA"
#View(datos2012)
#cambiar AREAG por AREAGOCU, OCUHOM, OCUMUJ, PUEHOM, PUEMUJ
cnames <- colnames(datos2012)
nombresN = c()
for(i in 1:length(cnames)){
  if(cnames[i] == "AREAG"){
    nombresN[i] <- "AREAGOCU"
  }
  else if(cnames[i] == "OCUHOM"){
    nombresN[i] <- "CIUOHOM"
  }
  else if(cnames[i] == "OCUMUJ"){
    nombresN[i] <- "CIUOMUJ"
  }
  else if(cnames[i] == "GETHOM"){
    nombresN[i] <- "PUEHOM"
  }
  else if(cnames[i] == "GETMUJ"){
    nombresN[i] <- "PUEMUJ"
  }
  else{
    nombresN[i] <- cnames[i]
  }
}
colnames(datos2012) <- nombresN
datos2012$AÑOOCU <- ifelse(datos2012$AÑOOCU == 'None', 2012, datos2012$AÑOOCU)

```







